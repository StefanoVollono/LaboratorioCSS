<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tutorial CSS3 - animazione su Search bar per HTML Mobile App">
    <meta name="author" content="css3, html5, html mobile app, performance, web design, searchbar">
    <link rel="shortcut icon" href="../../assets/ico/favicon.png">

    <title>HTML Mobile App tutorial: come realizzare un'animazione su search bar in stile Gmail Mobile App</title>

    <!-- Reset degli elementi del documento con Normalize CSS -->
    <link href="css/normalize.css" rel="stylesheet">
    
    <!-- stili per le icone font-awesome (direttamente dal link CDN) http://fontawesome.io -->
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    
    <link href="css/demo.css" rel="stylesheet">
    
  </head>

  <body>
	  
	<nav>
		<a href="http://www.laboratoriocss.it" rel="prev"><i class="fa fa-globe"></i> laboratoriocss.it</a>
		<h1 class="title">Tutorial mobile</h1>
		<a href="http://www.laboratoriocss.it//" rel="next"><i class="fa fa-chevron-left"></i> articolo del tutorial</a>
	</nav>
	
	<section class="search-wrapper">
		<input type="search" placeholder="Cerca nella lista" />
		<i class="fa fa-search"></i>
		<i class="fa fa-times-circle"></i>
	</section>
		
	<article>
		
		<ul class="list">
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		  <li>
		    <a href="#">
		      List item
		      <i class="fa fa-chevron-right"></i>
		    </a>
		  </li>
		</ul>
		
	</article>

    <script src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" >
    
	    $(function(){
	    
	    
	    	var input = $("input"),
	    		helper = $(".helper"),
	    		searchWrapper = $("section");
	    
	    	    		
    		/* 
		    	aggiungiamo e togliamo la classe "search-focus" agli eventi di focus e blur dell'input, 
		    	avviando l'aniamzione che ripristina lo stato iniziale degli elementi DOM
	    	*/
    		input.on("focus", function(){
    			//ritardiamo qualche millisecondo per aspettare l'animazione di comparsa della 
    			//tastiera dell'input sia finita, in quanto potrebbe interferire con quella dei 
    			//nostri effetti CSS3
    			setTimeout(function(){
	    			$("body").addClass("search-focus");	
    			}, 30);	    		
    		})
    		.on("blur", function(){
	    		$("body").removeClass("search-focus");
    		}); 		
    		
    		/*
	    		sul keyup dell'input controlliamo la lunghezza del valore immesso e visaualizziamo o meno
	    		l'icona di rimozione e richiamiamo il blur per ripristinare tutto allo stato iniziale
    		*/
    		
    		/* al click dell'icona di rimozione rimuoviamo il testo dell'input */
    		$("i[class*='times']").on("click", function(){
	    		input.val("").trigger("blur");
    		});
    		       
	    });
    </script>
  </body>
</html>
